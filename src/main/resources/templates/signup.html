<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
</head>
<body>
    <h1>회원가입</h1>
    <div>
        <label>이메일: <input type="email" id="email"></label><br>
        <label>비밀번호: <input type="password" id="password"></label><br>
        <label>닉네임: <input type="text" id="nickname"></label><br>
        <button onclick="signup()">가입하기</button>
    </div>

    <script>
        function signup() {
            const data = {
                email: document.getElementById('email').value,
                password: document.getElementById('password').value,
                nickname: document.getElementById('nickname').value
            };

            fetch('/api/account/signup', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            })
            .then(response => {
                if (response.ok) {
                    alert("가입 성공! 로그인 페이지로 이동합니다.");
                    window.location.href = "/login";
                } else {
                    response.json().then(err => alert("실패: " + err.error.message));
                }
            });
        }
    </script>
</body>
</html>